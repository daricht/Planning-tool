<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Task Planner</title>
	<style>
		/* Add your CSS here */
		body {
			font-family: Arial, sans-serif;
		}
		#app {
			max-width: 600px;
			margin: 0 auto;
			padding: 20px;
		}
		#taskInput {
			width: calc(100% - 22px);
			padding: 10px;
			margin-bottom: 10px;
		}
		#addTaskButton {
			padding: 10px 20px;
		}
		#taskList {
			list-style-type: none;
			padding: 0;
		}
		#taskList li {
			padding: 10px;
			border-bottom: 1px solid #ccc;
		}
		#prioritySelect {
			padding: 10px;
			margin-bottom: 10px;
		}
		.priority-low {
			color: green;
		}
		.priority-medium {
			color: orange;
		}
		.priority-high {
			color: red;
		}
	</style>
</head>
<body>
	<div id="app">
		<input type="text" id="taskInput" placeholder="Enter a task">
		<select id="prioritySelect">
			<option value="low">Low</option>
			<option value="medium">Medium</option>
			<option value="high">High</option>
		</select>
		<button id="addTaskButton">Add Task</button>
		<ul id="taskList"></ul>
	</div>
	<script>
        document.addEventListener('DOMContentLoaded', () => {
            const addTaskButton = document.getElementById('addTaskButton');
            const taskInput = document.getElementById('taskInput');
            const prioritySelect = document.getElementById('prioritySelect');
            const taskList = document.getElementById('taskList');
    
            const priorityOrder = {
                'low': 3,
                'medium': 2,
                'high': 1
            };
    
            const comparePriority = (a, b) => {
                const priorityA = priorityOrder[a.priority];
                const priorityB = priorityOrder[b.priority];
                return priorityA - priorityB;
            };
    
            const addTask = () => {
                const taskText = taskInput.value.trim();
                const priority = prioritySelect.value;
                if (taskText !== '') {
                    const task = {
                        text: taskText,
                        priority: priority
                    };
                    const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
                    tasks.push(task);
                    tasks.sort(comparePriority);
                    localStorage.setItem('tasks', JSON.stringify(tasks));
                    renderTasks(tasks);
                    taskInput.value = ''; // Clear the input field
                }
            };
    
            const renderTasks = (tasks) => {
                taskList.innerHTML = '';
                tasks.forEach(task => {
                    const listItem = document.createElement('li');
                    listItem.textContent = `${task.text} (${task.priority})`;
                    listItem.classList.add(`priority-${task.priority}`);
                    taskList.appendChild(listItem);
                });
            };
    
            const loadTasks = () => {
                const tasks = JSON.parse(localStorage.getItem('tasks')) || [];
                tasks.sort(comparePriority);
                renderTasks(tasks);
            };
    
            addTaskButton.addEventListener('click', addTask);
    
            taskInput.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    addTask();
                }
            });
    
            loadTasks(); // Load tasks when the page is loaded
        });
    </script>
</body>
</html>